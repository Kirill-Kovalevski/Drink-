:root{
  --ink:#0b1d33; --muted:#6b7a90; --card:#fff;
  --brand:#22d3ee; --brand2:#1e40af; --ok:#22c55e; --warn:#f59e0b; --danger:#ef4444;
  --shadow:0 20px 50px rgba(15,66,142,.12);
  --radius:18px; --spin-h:56px; --btn-w:56px;
}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;padding-bottom: 2rem; font-family:"Rubik",system-ui,Arial,Helvetica,sans-serif;color:var(--ink);
  background:linear-gradient(180deg,#eaf4ff,#f7fbff 60%,#eef6ff);overflow-x:hidden}

/* ===== HERO ===== */
.hero.edge{width:100vw;margin-inline:calc(50% - 50vw);position:relative;background:linear-gradient(180deg,#eaf6ff,#ffffff 65%);border-radius:0 0 24px 24px;box-shadow:var(--shadow)}
.hero-compact{height:min(22vh,200px);max-height:210px}
.hero-waves{position:absolute;inset:auto 0 0 0;height:58%;width:100%}
.ship-wrap{position:absolute;inset:0;display:flex;align-items:flex-start;justify-content:center;pointer-events:none}
.real-ship{width:min(92vw,720px);height:100%;transform-origin:50% 100%}

/* ===== QUOTE ===== */
.quote{margin:10px auto 18px;width:clamp(320px,94vw,820px);background:#fff;border-radius:999px;box-shadow:var(--shadow);
  padding:10px 16px;text-align:center;color:#1d3357}

/* ===== APP WRAP ===== */
.app{width:clamp(320px,94vw,820px);margin:0 auto 64px;padding-inline:12px}
.card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px 18px;margin:14px 0; margin: bottom 3rem;}
.card-title{margin:4px 2px 12px;font:900 22px "Rubik"}

/* ===== PROGRESS ===== */
.topbar{text-align:center;color:var(--muted);font-weight:600}
.gauge-wrap{display:grid;place-items:center;margin:8px 0 14px}
.gauge{--size:184px;width:var(--size);height:var(--size);border-radius:50%;position:relative;background:conic-gradient(#22d3ee 0,#e6eef7 0 360deg);display:grid;place-items:center;filter:drop-shadow(0 14px 26px rgba(34,139,230,.25))}
.gauge-fill{position:absolute;inset:0;border-radius:50%;background:conic-gradient(#22d3ee 0,#e6eef7 0 360deg);transition:background .3s ease}
.gauge::after{content:"";position:absolute;inset:12px;background:linear-gradient(180deg,#fff,#f3f7ff);border-radius:50%;box-shadow:inset 0 0 0 1px #e8eef6}
.gauge-cover{position:absolute;inset:0;display:grid;place-items:center;gap:6px;text-align:center}
.water-title{font:900 clamp(28px,7vw,46px)/1 "Frank Ruhl Libre",serif;background:linear-gradient(180deg,#25426b,#1e40af 40%,#22d3ee 92%);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 2px 14px rgba(34,211,238,.35);animation:hue 8s linear infinite, glowPulse 3.5s ease-in-out infinite}
.water-title.small{font-size:clamp(20px,6vw,34px)}
@keyframes hue{to{filter:hue-rotate(360deg)}}
@keyframes glowPulse{0%,100%{text-shadow:0 2px 14px rgba(34,211,238,.35)}50%{text-shadow:0 2px 22px rgba(34,211,238,.8)}}

/* ring splash */
.ring-splash{position:absolute;inset:0;margin:auto;border-radius:50%;pointer-events:none;transform:scale(0);opacity:0}
.ring-splash.show{animation:ringSplash .9s ease-out}
@keyframes ringSplash{
  0%{transform:scale(var(--pulse-scale,1));opacity:.55;box-shadow:0 0 0 10px hsla(var(--ring-hue,190),90%,60%,.45), inset 0 0 22px hsla(var(--ring-hue,190),95%,70%,.65)}
  60%{opacity:.25}
  100%{transform:scale(calc(var(--pulse-scale,1)*1.25));opacity:0}
}

/* river */
.river{height:16px;background:#e9f3ff;border-radius:999px;overflow:hidden;margin:2px 0 14px}
.river-fill{height:100%;width:0%;transition:width .45s cubic-bezier(.2,.8,.2,1);box-shadow:inset 0 0 24px rgba(255,255,255,.35)}
.stripes{background-image:linear-gradient(90deg,rgba(255,255,255,.35) 25%,rgba(255,255,255,0) 25% 50%,rgba(255,255,255,.35) 50% 75%,rgba(255,255,255,0) 75%);background-size:40px 100%;animation:flow 1.1s linear infinite}
@keyframes flow{from{background-position:0 0}to{background-position:-40px 0}}
.stage1{background-color:#55c9ff}.stage2{background-color:#34b3ff}.stage3{background-color:#1aa1ff}.stage4{background-color:#10b981}

/* buttons */
.btn-row{display:grid;gap:10px;margin-top:8px}.btn-row.grid-3{grid-template-columns:repeat(3,1fr)}
.btn{height:48px;border:none;border-radius:14px;background:#eef6ff;color:#0c2242;font-weight:800;box-shadow:inset 0 0 0 1px #d7e6fb}
.btn.primary{background:linear-gradient(90deg,#5ac8ff,#2fb2ff);color:#fff;box-shadow:0 10px 18px rgba(47,178,255,.25)}
.btn.danger{background:linear-gradient(90deg,#ff6b6b,#f43f5e);color:#fff}
.btn.equal{width:100%}

/* reading line */
.reading-row{display:flex;justify-content:center;gap:12px;align-items:center;margin:12px 0 2px}
.reading-title{font-weight:900;color:#153157}
.reading-line{display:flex;align-items:center;gap:8px;font-size:18px}
.reading-line .num.glow{font-weight:900;animation:readGlow 3s ease-in-out infinite}
@keyframes readGlow{0%,100%{color:#0b1d33;text-shadow:0 0 0 transparent}50%{color:#084c82;text-shadow:0 0 12px rgba(96,165,250,.55)}}
.reading-line .sep{opacity:.5;margin-inline:6px}

/* ===== FORM ===== */
.lbl{display:block;margin:12px 0 6px;font-weight:800;color:#1b3152}

/* Select (RTL, arrow on left), suffix inside */
.nice-select{
    display: flex;
    align-items: center;
    justify-content: flex-end;
  width:100%;height:52px;border-radius:14px;border:1px solid #d7e6fb;background:#fff;
  padding-inline:0;color:#0c2242;font-weight:800;appearance:none;direction:rtl;text-align:right;text-align-last:right;
  background-image:linear-gradient(45deg,transparent 50%,#7aa7d9 50%),linear-gradient(135deg,#7aa7d9 50%,transparent 50%);
  background-position:left 20px center, left 15px center;background-size:6px 6px,6px 6px;background-repeat:no-repeat}
.select-suffix{position: relative;}
.select-suffix .suffix{pointer-events:none;position:absolute;display:flex;align-items:center;color:#6b7a90;font-weight:800}
.select-suffix.rtl-right .suffix{right:16px;top:0;bottom:0}
.select-suffix.suffix-after .suffix{left:16px;top:0;bottom:0}

/* spinner rows â€“ all identical sizing */
.spin-row{display:grid;grid-template-columns:160px 1fr auto;align-items:center;gap:12px;margin:10px 0}
.spin-label{font-weight:800;color:#1b3152;white-space:nowrap}
.spinner{display:grid;grid-template-columns:var(--btn-w) 1fr var(--btn-w);height:var(--spin-h);border:1px solid #d7e6fb;border-radius:16px;background:#fff;overflow:hidden}
.step{width:var(--btn-w);height:var(--spin-h);display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#f8fbff,#e9f2ff);border:none;font:900 24px "Rubik";color:#1f4b7c}
.spin-val{display: flex; align-items: center; justify-content: center; line-height:var(--spin-h);text-align:center;font:900 20px "Rubik";color:#0c2242}
.chip-open{height:var(--spin-h);padding:0 14px;border-radius:14px;border:1px dashed #cfe3ff;background:#f7fbff;color:#1e3a8a;font-weight:800}

/* icon grid (instead of tick boxes) */
.icon-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;margin-top:10px}
.icon-tile{height:72px;border-radius:14px;border:1px solid #d7e6fb;background:#fff;display:grid;place-items:center;gap:6px;font-weight:800;color:#173a59}
.icon-tile.active{box-shadow:0 0 0 2px #3ab0ff inset}
.icon-tile .i{width:22px;height:22px;display:inline-block;border-radius:6px}
.i.sun{background:radial-gradient(circle at 30% 30%,#ffd86b,#ffb703)}
.i.bottle{background:linear-gradient(180deg,#dff2ff,#b8e1ff)}
.i.heart{background:radial-gradient(circle at 40% 40%,#ff9eb1,#f43f5e)}
.i.mountain{background:linear-gradient(180deg,#c7d2fe,#93c5fd)}
.i.mug{background:linear-gradient(180deg,#e5ecff,#cfe0ff)}

/* CTA & target */
.cta{margin-top:12px;width:100%;height:52px;border:none;border-radius:14px;background:linear-gradient(90deg,#2fb2ff,#1e90ff);color:#fff;font-weight:900;box-shadow:0 14px 28px rgba(47,144,255,.25)}
.target{text-align:center;margin-top:10px;color:#1d3357;font-weight:800}

/* ===== REMINDERS ===== */
.rem-grid{display:grid;grid-template-columns:1fr;gap:14px;align-items:end}
.btn-stack{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}

/* ===== MODALS ===== */
.modal[hidden]{display:none}.modal{position:fixed;inset:0;z-index:60;display:grid;place-items:center}
.modal-backdrop{position:absolute;inset:0;background:#0b1d33cc;backdrop-filter:blur(6px)}
.modal-card{position:relative;background:#fff;border-radius:18px;box-shadow:var(--shadow);width:min(92vw,560px);padding:18px}
.chips{display:flex;flex-wrap:wrap;gap:8px}.chips button{border:none;padding:10px 14px;border-radius:999px;background:#f0f7ff;box-shadow:inset 0 0 0 1px #d8e6f8;font-weight:800}
.row{display:flex;gap:10px;justify-content:center;margin-top:10px}

/* ===== CONFETTI ===== */
.confetti-canvas{position:fixed;inset:0;pointer-events:none;z-index:80}

/* ===== RESPONSIVE ===== */
@media (max-width:520px){
  .spin-row{grid-template-columns:auto}
  .spin-label{font-size:14px}
  .icon-grid{grid-template-columns:repeat(3,1fr)}
}
